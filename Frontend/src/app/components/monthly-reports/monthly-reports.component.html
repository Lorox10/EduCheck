<div class="monthly-reports-container">
    <div class="reports-header">
        <h2>ğŸ“„ Reportes Mensuales de Inasistentes</h2>
        <p class="subtitle">Descarga los reportes de inasistentes generados automaticamente cada mes</p>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="alert error-alert">
        <span>âŒ {{ errorMessage }}</span>
    </div>

    <!-- Success Message -->
    <div *ngIf="successMessage" class="alert success-alert">
        <span>âœ… {{ successMessage }}</span>
    </div>

    <!-- Generate Button -->
    <div class="action-bar">
        <button class="generate-btn" (click)="generateReport()" [disabled]="isGenerating">
            <span *ngIf="!isGenerating">ğŸ“¥ Generar Reporte Ahora</span>
            <span *ngIf="isGenerating">â³ Generando...</span>
        </button>
    </div>

    <!-- Loading -->
    <div *ngIf="isLoading" class="loading-spinner">
        <div class="spinner"></div>
        <p>Cargando reportes...</p>
    </div>

    <!-- No Reports Message -->
    <div *ngIf="!isLoading && reports.length === 0" class="no-reports">
        <p>ğŸ“­ No hay reportes disponibles aÃºn</p>
        <p class="subtitle">Los reportes se generarÃ¡n automÃ¡ticamente el primer dÃ­a de cada mes</p>
    </div>

    <!-- Reports List -->
    <div *ngIf="!isLoading && reports.length > 0" class="reports-list">
        <div *ngFor="let report of reports" class="report-card">
            <div class="report-info">
                <div class="report-month">
                    <h3>{{ report.month_name }}</h3>
                    <p class="report-date">{{ formatDate(report.created) }}</p>
                </div>
                <div class="report-meta">
                    <span class="file-size">ğŸ“¦ {{ formatFileSize(report.size) }}</span>
                </div>
            </div>
            <button class="download-btn" (click)="downloadReport(report)">
                <span>â¬‡ï¸ Descargar PDF</span>
            </button>
        </div>
    </div>
</div>